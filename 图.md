#include <stdio.h>
#include <stdlib.h>

int main() {

	int n, i, j, cnt = 0, N, r, l;
	printf("请输入元素个数：\n");
	scanf("%d", &n);
	int a[n][n];
	printf("请输入边数：\n");
	scanf("%d", &N);

	for (i = 0; i < n; i++) {
		for (j = 0; j < n; j++) {
			a[i][j] = 0;
		}
	}

	for (i = 0; i < N; i++) {
		scanf("%d %d", &r, &l);
		a[r][l] = a[l][r] = 1;
	}

	for (i = 0; i < n; i++) {
		int sum = 0;

		for (j = 0; j < n; j++) {
			sum += a[i][j];
		}

		if (sum % 2)
			cnt++;

		if (cnt > 2)
			break;
	}

	if (cnt > 2) {
		printf("NO\n");
	} else {
		printf("YES\n");
	}

	for (i = 0; i < n; i++) {
		for (j = 0; j < n; j++) {
			printf("%d ", a[i][j]);
		}

		printf("\n");
	}

	return 0;
}
/*
8
11
0 1  0 2  1 3  2 3  3 4  3 5  4 5 4 6  5 6  5 7  6 7
*/